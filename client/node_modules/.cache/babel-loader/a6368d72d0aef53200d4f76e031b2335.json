{"ast":null,"code":"import _slicedToArray from \"/var/local/startup.me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/var/local/startup.me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/var/local/startup.me/client/src/views/Dashboard/Knowledge.js\";\nimport React, { useEffect } from \"react\";\nimport Select from 'react-select';\nimport detectBrowserLanguage from 'detect-browser-language';\nimport PublicIcon from '@material-ui/icons/Public';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Cached from '@material-ui/icons/Cached';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Axios from \"axios\";\nimport 'react-vertical-timeline-component/style.min.css';\nimport styles from \"assets/jss/material-dashboard-react/components/bodyStyle.js\";\nvar rsStyles = {\n  control: function control(base) {\n    return _objectSpread(_objectSpread({}, base), {}, {\n      fontSize: \"12px\",\n      fontFamily: \"Open Sans\",\n      color: \"#333\",\n      textTransform: \"uppercase\",\n      width: \"50%\"\n    });\n  },\n  menu: function menu(base) {\n    return _objectSpread(_objectSpread({}, base), {}, {\n      fontSize: \"12px\",\n      letterSpacing: \"0.08em\",\n      zIndex: \"999999999 !important\",\n      textTransform: \"uppercase\",\n      width: \"50%\"\n    });\n  }\n};\n\nvar handleImageError = function handleImageError(e) {\n  e.target.onerror = null;\n  e.target.src = \"\".concat(process.env.PUBLIC_URL, \"/filesystem/icons/default.png\");\n};\n\nvar useStyles = makeStyles(styles);\nexport default function Knowledge() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      allTags = _React$useState2[0],\n      setAllTags = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      recommends = _React$useState4[0],\n      setRecommendations = _React$useState4[1];\n\n  var _React$useState5 = React.useState(6),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      count = _React$useState6[0],\n      setCount = _React$useState6[1];\n\n  var _increaseCount = function _increaseCount() {\n    setCount(count + 6);\n  };\n\n  var handleChangeTags = function handleChangeTags(selectedOption) {\n    if (selectedOption.value !== null && selectedOption.value != \"\") {\n      var params = {\n        tag: selectedOption.value\n      };\n      Axios.post(\"/api/hacks/getRecommendsbyTag\", params).then(function (recData) {\n        console.log(recData);\n        /*if(tags.data && tags.data.length > 0){\n          var allTags = [] \n          Object.keys(tags.data).forEach(function(key) {\n            const tagName = tags.data[key].tag\n            var spTag = tagName.toString().split(\"_\")\n            allTags.push({value: tagName, label: spTag.join(\" \")})\n          })\n          setAllTags(allTags)\n        }*/\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n    /*this.setState(prevState => {\n        let filters = Object.assign({}, prevState.filters);  // creating copy of state variable jasper\n        filters.tags = selectedOption;                     // update the name property, assign a new value                 \n        return { filters };                                 // return new object jasper object\n      })*/\n\n  };\n\n  useEffect(function () {\n    var params = {};\n\n    if (detectBrowserLanguage().toLowerCase() === \"pt-br\") {\n      params = {\n        category: 'knowledge',\n        language: 'pt'\n      };\n    } else {\n      params = {\n        category: 'knowledge',\n        language: 'en'\n      };\n    }\n\n    Axios.post(\"/api/hacks/getTagsbyCategory\", params).then(function (tags) {\n      if (tags.data && tags.data.length > 0) {\n        var allTags = [];\n        Object.keys(tags.data).forEach(function (key) {\n          var tagName = tags.data[key].tag;\n          var spTag = tagName.toString().split(\"_\");\n          allTags.push({\n            value: tagName,\n            label: spTag.join(\" \")\n          });\n        });\n        setAllTags(allTags);\n      }\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n    Axios.post(\"/api/hacks/getRecommends\", params).then(function (res) {\n      setRecommendations(res.data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }, [allTags]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.categoryWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, detectBrowserLanguage().toLowerCase() === \"pt-br\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      margin: '2px',\n      fontSize: '14px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, \"Filtre as plataformas por categoria: \"), detectBrowserLanguage().toLowerCase() !== \"pt-br\" && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      margin: '2px',\n      fontSize: '14px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, \"Search by category: \"), /*#__PURE__*/React.createElement(Select, {\n    options: allTags,\n    onChange: handleChangeTags,\n    styles: rsStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  })), recommends && recommends.length > 0 && recommends.slice(0, count).map(function (rec, index) {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      key: index,\n      href: \"\".concat(rec.link),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      key: index,\n      className: classes.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardActionArea, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardMedia, {\n      component: \"img\",\n      alt: \"s\",\n      height: \"150\",\n      image: \"\".concat(process.env.PUBLIC_URL, \"/filesystem/icons/\").concat(rec.id, \".png\"),\n      title: \"\",\n      onError: handleImageError,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h5\",\n      component: \"h2\",\n      style: {\n        textAlign: 'left',\n        fontSize: '20px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, rec.title), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      component: \"p\",\n      style: {\n        height: '70px',\n        textAlign: 'left'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, rec.description))), detectBrowserLanguage().toLowerCase() === \"pt-br\" && /*#__PURE__*/React.createElement(CardActions, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"add to favorites\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PublicIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    })), \"Acesse o site\"), detectBrowserLanguage().toLowerCase() !== \"pt-br\" && /*#__PURE__*/React.createElement(CardActions, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"add to favorites\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(PublicIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    })), \"Visit the website\")));\n  }), recommends.length > count && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"15px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }, detectBrowserLanguage().toLowerCase() === \"pt-br\" && /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    startIcon: /*#__PURE__*/React.createElement(Cached, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 18\n      }\n    }),\n    onClick: _increaseCount,\n    style: {\n      marginLeft: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }\n  }, \"carregar mais op\\xE7\\xF5es\"), detectBrowserLanguage().toLowerCase() !== \"pt-br\" && /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    startIcon: /*#__PURE__*/React.createElement(Cached, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 18\n      }\n    }),\n    onClick: _increaseCount,\n    style: {\n      marginLeft: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }, \"load more\")));\n}","map":{"version":3,"sources":["/var/local/startup.me/client/src/views/Dashboard/Knowledge.js"],"names":["React","useEffect","Select","detectBrowserLanguage","PublicIcon","IconButton","Button","Cached","makeStyles","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","Axios","styles","rsStyles","control","base","fontSize","fontFamily","color","textTransform","width","menu","letterSpacing","zIndex","handleImageError","e","target","onerror","src","process","env","PUBLIC_URL","useStyles","Knowledge","classes","useState","allTags","setAllTags","recommends","setRecommendations","count","setCount","_increaseCount","handleChangeTags","selectedOption","value","params","tag","post","then","recData","console","log","err","toLowerCase","category","language","tags","data","length","Object","keys","forEach","key","tagName","spTag","toString","split","push","label","join","res","categoryWrapper","select","margin","slice","map","rec","index","link","card","id","textAlign","title","height","description","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport Select from 'react-select'\nimport detectBrowserLanguage from 'detect-browser-language'\nimport PublicIcon from '@material-ui/icons/Public';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Cached from '@material-ui/icons/Cached';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport Typography from '@material-ui/core/Typography';\nimport Axios from \"axios\"\n\nimport 'react-vertical-timeline-component/style.min.css';\nimport styles from \"assets/jss/material-dashboard-react/components/bodyStyle.js\";\n\nconst rsStyles = {\n  control: base => ({\n    ...base,\n    fontSize: \"12px\",\n    fontFamily: \"Open Sans\",\n    color: \"#333\",\n    textTransform: \"uppercase\",\n    width: \"50%\",\n    \n  }),\n  menu: base => ({\n      ...base,\n      fontSize: \"12px\",\n      letterSpacing: \"0.08em\",\n      zIndex: \"999999999 !important\",\n      textTransform: \"uppercase\",\n      width: \"50%\",\n  })\n};\n\nconst handleImageError = (e) => {\n  e.target.onerror = null;\n  e.target.src = `${process.env.PUBLIC_URL}/filesystem/icons/default.png`\n}\n\n\nconst useStyles = makeStyles(styles)\n\n\n\nexport default function Knowledge() {\n\n  const classes = useStyles();\n  const [allTags, setAllTags] = React.useState([])\n  const [recommends, setRecommendations] = React.useState([]);\n  \n \n  const [count, setCount] = React.useState(6)\n\n  const _increaseCount = () => {\n    setCount(count + 6)\n  }\n\n\n\n\n  const handleChangeTags = selectedOption => {\n   \n\n    if(selectedOption.value !== null && selectedOption.value != \"\"){\n      const params = {\n        tag: selectedOption.value,\n      }\n\n      Axios.post(`/api/hacks/getRecommendsbyTag`,  params)\n      .then(recData => {\n          console.log(recData)\n          /*if(tags.data && tags.data.length > 0){\n            var allTags = [] \n            Object.keys(tags.data).forEach(function(key) {\n              const tagName = tags.data[key].tag\n              var spTag = tagName.toString().split(\"_\")\n              allTags.push({value: tagName, label: spTag.join(\" \")})\n            })\n            setAllTags(allTags)\n          }*/\n  \n      }).catch(err => {\n        console.log(err)\n      })\n    }\n   \n\n    /*this.setState(prevState => {\n        let filters = Object.assign({}, prevState.filters);  // creating copy of state variable jasper\n        filters.tags = selectedOption;                     // update the name property, assign a new value                 \n        return { filters };                                 // return new object jasper object\n      })*/ \n  }\n\n    \n    \n\n\n  useEffect(() => {\n\n    var params = {}\n    if(detectBrowserLanguage().toLowerCase() === \"pt-br\"){\n      params = {\n        category: 'knowledge',\n        language: 'pt'\n      }\n    } else {\n      params = {\n        category: 'knowledge',\n        language: 'en'\n      }\n    }\n    \n\n    Axios.post(`/api/hacks/getTagsbyCategory`,  params)\n    .then(tags => {\n        \n        if(tags.data && tags.data.length > 0){\n          var allTags = [] \n          Object.keys(tags.data).forEach(function(key) {\n            const tagName = tags.data[key].tag\n            var spTag = tagName.toString().split(\"_\")\n            allTags.push({value: tagName, label: spTag.join(\" \")})\n          })\n          setAllTags(allTags)\n        }\n\n    }).catch(err => {\n      console.log(err)\n    })\n\n    Axios.post(`/api/hacks/getRecommends`,  params)\n    .then(res => {\n        setRecommendations(res.data)\n    }).catch(err => {\n      console.log(err)\n    })\n    \n  }, [allTags])\n\n  \n\n\nreturn (\n    \n    <div className={classes.categoryWrapper}>\n\n        <div className={classes.select}>\n        {detectBrowserLanguage().toLowerCase() === \"pt-br\" &&\n        <span style={{margin: '2px', fontSize: '14px'}}>Filtre as plataformas por categoria: </span>\n        }\n        {detectBrowserLanguage().toLowerCase() !== \"pt-br\" &&\n        <span style={{margin: '2px', fontSize: '14px'}}>Search by category: </span>\n        }\n        <Select\n            options={allTags}\n            onChange={handleChangeTags}\n            styles={rsStyles} \n        />\n        </div>\n      \n     {recommends && recommends.length > 0 && recommends.slice(0, count).map((rec, index) => (\n        \n        <a key={index} href={`${rec.link}`} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Card key={index} className={classes.card}>\n          <CardActionArea>\n          <CardMedia\n            component=\"img\"\n            alt=\"s\"\n            height=\"150\"\n            image={`${process.env.PUBLIC_URL}/filesystem/icons/${rec.id}.png`}\n            title=\"\"\n            onError={handleImageError}  \n          />\n            \n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{textAlign: 'left', fontSize: '20px'}}>\n                {rec.title}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" style={{height: '70px', textAlign: 'left'}}>\n                {rec.description}\n              </Typography>\n            </CardContent>\n          </CardActionArea>\n          {detectBrowserLanguage().toLowerCase() === \"pt-br\" &&\n          <CardActions>\n              <IconButton aria-label=\"add to favorites\">\n                <PublicIcon />\n              </IconButton>\n              Acesse o site\n          </CardActions>\n          }\n          {detectBrowserLanguage().toLowerCase() !== \"pt-br\" &&\n          <CardActions>\n              <IconButton aria-label=\"add to favorites\">\n                <PublicIcon />\n              </IconButton>\n              Visit the website\n          </CardActions>\n          }\n          \n        </Card>\n      </a>\n     ))}\n     \n    \n    {recommends.length > count &&\n      <div style={{marginTop: \"15px\"}}>\n      {detectBrowserLanguage().toLowerCase() === \"pt-br\" &&\n      <Button\n      variant=\"contained\"\n      color=\"primary\"\n      startIcon={<Cached />}\n      onClick={_increaseCount}\n      style={{marginLeft: '10px'}}\n      >\n      carregar mais opções\n      </Button> \n      }\n      {detectBrowserLanguage().toLowerCase() !== \"pt-br\" &&\n      <Button\n      variant=\"contained\"\n      color=\"primary\"\n      startIcon={<Cached />}\n      onClick={_increaseCount}\n      style={{marginLeft: '10px'}}\n      >\n      load more\n      </Button> \n      }\n      </div> \n      \n    }\n\n\n    </div>\n\n    \n  );\n}\n"]},"metadata":{},"sourceType":"module"}