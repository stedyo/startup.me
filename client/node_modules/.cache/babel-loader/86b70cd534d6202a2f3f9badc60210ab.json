{"ast":null,"code":"import _slicedToArray from \"/var/local/startup.me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/local/startup.me/client/src/views/Dashboard/Knowledge.js\";\nimport React, { useEffect } from \"react\";\nimport detectBrowserLanguage from 'detect-browser-language';\nimport PublicIcon from '@material-ui/icons/Public';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Axios from \"axios\";\nimport 'react-vertical-timeline-component/style.min.css';\nimport styles from \"assets/jss/material-dashboard-react/components/bodyStyle.js\";\n\nvar handleImageError = function handleImageError(e) {\n  e.target.onerror = null;\n  e.target.src = \"\".concat(process.env.PUBLIC_URL, \"/filesystem/icons/default.png\");\n};\n\nvar useStyles = makeStyles(styles);\n\nfunction usePrevious(data) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = data;\n  }, [data]);\n  return ref.current;\n}\n\nexport default function Knowledge() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _React$useState = React.useState(3),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      recommends = _React$useState4[0],\n      setRecommendations = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      count = _React$useState6[0],\n      setCount = _React$useState6[1];\n\n  var _increaseCount = function _increaseCount() {\n    setCount(count + 1);\n  };\n\n  var loadMore = function loadMore() {\n    var prevCount = usePrevious(count);\n    var newVisible = prevCount + 3;\n    setVisible(newVisible);\n  };\n\n  var prevCount = usePrevious(count);\n  useEffect(function () {\n    var params = {};\n\n    if (detectBrowserLanguage().toLowerCase() === \"pt-br\") {\n      params = {\n        category: 'knowledge',\n        language: 'pt'\n      };\n    } else {\n      params = {\n        category: 'knowledge',\n        language: 'en'\n      };\n    }\n\n    Axios.post(\"/api/hacks/getRecommends\", params).then(function (res) {\n      setRecommendations(res.data);\n      console.log(res.data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.categoryWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, \"Previous Count Value: \", prevCount), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Current Count Value: \", count), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: _increaseCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"Load More\"), recommends && recommends.length > 0 && recommends.map(function (rec, index) {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\".concat(rec.link),\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      key: index,\n      className: classes.card,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardActionArea, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardMedia, {\n      component: \"img\",\n      alt: \"s\",\n      height: \"140\",\n      image: \"\".concat(process.env.PUBLIC_URL, \"/filesystem/icons/\").concat(rec.id, \".png\"),\n      title: \"\",\n      onError: handleImageError,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h5\",\n      component: \"h2\",\n      style: {\n        textAlign: 'center',\n        fontSize: '20px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, rec.title), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      component: \"p\",\n      style: {\n        height: '100px',\n        textAlign: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, rec.description))), /*#__PURE__*/React.createElement(CardActions, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"add to favorites\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PublicIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    })), \"\\xA0\", rec.views, \" views\")));\n  }));\n}","map":{"version":3,"sources":["/var/local/startup.me/client/src/views/Dashboard/Knowledge.js"],"names":["React","useEffect","detectBrowserLanguage","PublicIcon","IconButton","makeStyles","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","Axios","styles","handleImageError","e","target","onerror","src","process","env","PUBLIC_URL","useStyles","usePrevious","data","ref","useRef","current","Knowledge","classes","useState","visible","setVisible","recommends","setRecommendations","count","setCount","_increaseCount","loadMore","prevCount","newVisible","params","toLowerCase","category","language","post","then","res","console","log","err","categoryWrapper","length","map","rec","index","link","card","id","textAlign","fontSize","title","height","description","views"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport detectBrowserLanguage from 'detect-browser-language'\nimport PublicIcon from '@material-ui/icons/Public';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport Typography from '@material-ui/core/Typography';\nimport Axios from \"axios\"\n\nimport 'react-vertical-timeline-component/style.min.css';\nimport styles from \"assets/jss/material-dashboard-react/components/bodyStyle.js\";\n\n\n\nconst handleImageError = (e) => {\n  e.target.onerror = null;\n  e.target.src = `${process.env.PUBLIC_URL}/filesystem/icons/default.png`\n}\n\n\nconst useStyles = makeStyles(styles)\n\n\nfunction usePrevious(data){\n  const ref = React.useRef();\n  React.useEffect(()=>{\n    ref.current = data\n  }, [data])\n  return ref.current\n}\n\nexport default function Knowledge() {\n\n  const classes = useStyles();\n  const [visible, setVisible] = React.useState(3)\n  const [recommends, setRecommendations] = React.useState([]);\n  \n \n  const [count, setCount] = React.useState(0)\n\n  const _increaseCount = () => {\n    setCount(count + 1)\n  }\n\n  const loadMore = () => {\n    const prevCount = usePrevious(count)\n    const newVisible = prevCount + 3\n    setVisible(newVisible)\n    \n  }\n\n  const prevCount = usePrevious(count)\n    \n    \n\n\n  useEffect(() => {\n\n    var params = {}\n    if(detectBrowserLanguage().toLowerCase() === \"pt-br\"){\n      params = {\n        category: 'knowledge',\n        language: 'pt'\n      }\n    } else {\n      params = {\n        category: 'knowledge',\n        language: 'en'\n      }\n    }\n    \n\n    Axios.post(`/api/hacks/getRecommends`,  params)\n    .then(res => {\n        setRecommendations(res.data)\n        console.log(res.data)\n    }).catch(err => {\n      console.log(err)\n    })\n    \n  }, [])\n\n  \n\n\n  return (\n    \n    \n    <div className={classes.categoryWrapper}>\n      \n\n      <div>Previous Count Value: {prevCount}</div>\n      <div>Current Count Value: {count}</div>\n      <button onClick={_increaseCount}>Load More</button>\n\n\n     {recommends && recommends.length > 0 && recommends.map((rec, index) => (\n        \n        <a href={`${rec.link}`} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Card key={index} className={classes.card}>\n          <CardActionArea>\n          <CardMedia\n            component=\"img\"\n            alt=\"s\"\n            height=\"140\"\n            image={`${process.env.PUBLIC_URL}/filesystem/icons/${rec.id}.png`}\n            title=\"\"\n            onError={handleImageError}  \n          />\n            \n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{textAlign: 'center', fontSize: '20px'}}>\n                {rec.title}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" style={{height: '100px', textAlign: 'center'}}>\n                {rec.description}\n              </Typography>\n            </CardContent>\n          </CardActionArea>\n          <CardActions>\n            <IconButton aria-label=\"add to favorites\">\n            <PublicIcon />\n          </IconButton>\n            &nbsp;{rec.views} views\n          </CardActions>\n        </Card>\n      </a>\n     ))}\n     \n    </div>\n\n    \n  );\n}\n"]},"metadata":{},"sourceType":"module"}